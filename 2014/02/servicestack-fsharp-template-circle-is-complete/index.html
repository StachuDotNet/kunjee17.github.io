<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2015-11-30T17:53:38.1673660+05:30" />
    <title>Kunjan a.k.a. Kunjee's blog</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/ico">
    <link rel="shortcut icon" href="/images/favicon.gif" type="image/gif">
    <link rel="canonical" href="http://kunjan.in/2014/02/servicestack-fsharp-template-circle-is-complete/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="Kunjee's Blog" rel="home">Kunjan's Blog</a></h1>
                <h2><small>Why Did the Chicken Cross the MÃ¶bius Strip?</small></h2>
                <p class="site-description"> All idea, opinion are my own and don't reflect opinion of my current or any former employer. </p>
                
        </hgroup>
        <nav role="navigation" class="site-navigation main-navigation">
            <h1 class="assistive-text">Menu</h1>
            <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
            <div class="menu">
                <ul>

                    <li><a href="/category">Categories</a></li>
                    <li><a href="/archive">Archive</a></li>
                    <li><a href="/resume">Resume</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/search">Search</a></li>
                    <li><a href="/rss.xml">RSS</a> / <a href="/feed.xml">Atom</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <div id="main">
        <div id="primary" class="site-content">
            <div id="content" role="main">

                
<meta name="description" content="Description of Servicestack template with F#. Also, how to update from V3.71 to V4 in template" />
<meta name="author" content="Kunjan Dalal" />
<div id="post">
  <h1>Servicestack F# template Update. Circle is Complete.</h1>
  <div class="post-note">
    posted on 12 Feb 2014
    | <a href="/category/technical">Technical</a>
    | <a href="/category/dotnet">DotNet</a>
    | <a href="/category/oss">OSS</a>
    | <a href="/category/functional-programming">Functional Programming</a>

<!--       <div class="addthis_toolbox addthis_default_style" style="float:right;">
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_button_tweet"></a>
        <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
        <a class="addthis_button_linkedin_counter"></a>
        <a class="addthis_counter addthis_pill_style"></a>
      </div>
    -->

    <!-- AddThis Button BEGIN -->
    <div class="hidden-phone">
      <div class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:title="Servicestack F# template Update. Circle is Complete.">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
      </div>
    </div>
    <!-- AddThis Button END -->




  </div>

  

  <p>Few day's back I wrote a <a href="2014/02/when-servicestack-meet-fsharp-via-sidewaffle/">article</a> about how I created <a href="http://sidewaffle.com/">side waffle</a> templates for <a href="http://servicestack.net/">Servicestack</a>. </p>

<p>Yesterday, <a href="http://blog.danielmohl.com/">Daniel Mohl</a>, merged the pull request. Add the missing bits make it working and it is up on <a href="http://visualstudiogallery.msdn.microsoft.com/278caff1-917a-4ac1-a552-e5a2ce0f6e1f">visual studio gallery</a>. I seriously like to thank Daniel for this work and support even after his own hectic schedule of day job. And a wonderful members of <a href="http://fsharp.org">F#</a> community. 
<!--excerpt-->
Here, I am sharing few details of the template, I have created. </p>

<p>There are four templates available now. </p>

<ol>
<li>Servicestack with Asp.Net host</li>
<li>Servicestack with Asp.Net host and Razor Engine</li>
<li>Servicestack with Self host</li>
<li>Servicestack with Self host and Razor Engine</li>
</ol>

<p>I was working on Asp.Net MVC with Servicestack but then work in still progress. As, most of the people who are using servicestack can go with above options as Razor view engine now available. </p>

<blockquote>
  <p>Just try out all options and pick which suits for specific need.</p>
</blockquote>

<p>Now, all templates are using <strong>3.71</strong> version of SS. As, it is the last version under MIT license. Why I am using that?</p>

<blockquote class="twitter-tweet" lang="en"><p>oh dear, adding task to remove servicestack from solution <a href="https://t.co/STpdEKQiJC">https://t.co/STpdEKQiJC</a></p>&mdash; Simon Cousins (@simontcousins) <a href="https://twitter.com/simontcousins/statuses/408182117579776000">December 4, 2013</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>People who are starting, or just like to stay with older version till the product kick off. They can continue with <strong>3.71</strong>.  And else it is a wonderful solution, that is worth <a href="https://servicestack.net/pricing">buying</a>. </p>

<blockquote>
  <p>Do take care while fire up command of update-package without thinking a bit. If there is a need of using old version <strong>PLEASE</strong> don't update it.</p>
</blockquote>

<p>What if someone like to update from 3.71 to 4.X. There are couple of breaking changes there. Here are the steps to make it work. </p>

<p>Download the template from the <a href="http://visualstudiogallery.msdn.microsoft.com/278caff1-917a-4ac1-a552-e5a2ce0f6e1f">Visual Studio gallery</a> and install it. </p>

<blockquote>
  <p>Yes, it will also work with latest express version too. </p>
</blockquote>

<p>Create new project and choose any template. Select OK. It is done. Easy enough right? </p>

<p>Press F5, and it will work with "Hello World" code. </p>

<blockquote>
  <p>Code may seems little dirty. It misses comments and also read me. It will be there in future updates. </p>
</blockquote>

<p>But current code is so less that it will be not that problematic to understand it. Obviously if you know <a href="http://servicestack.net">Servicestack</a> or <a href="http://fsharp.org">F#</a> a little bit. </p>

<h2>Things needed to update the version</h2>

<ul>
<li>Fire a update command from nuget</li>
<li>There are chances that one need to fire it more than one time, check package.config that all versions are updated to same version</li>
<li>Remove all the *.cs files and unwanted .htm, .js, .css files for now</li>
<li>Now there will be some errors about namespace, remove unwanted namespace as code is merged to base namespace for many files
<ul>
<li>remove ServiceStack.ServiceInterface</li>
<li>remove ServiceStack.ServiceHost</li>
<li>remove ServiceStack.WebHost.Endpoints</li>
</ul></li>
<li>Rebuild it and run it. </li>
<li>If we get error about Razor pages, remove 1.0.0.0 version line from web config if there is 2.0.0.0 one is already there else change 1.0.0.0 to 2.0.0.0</li>
<li>Rebuild and run it.</li>
<li>Now if there is a error "Object reference not set to an instance of an object." then we are on right track. </li>
<li>In AppHost.fs file replace <code>apphost.Init()</code> with <code>apphost.Init() |&gt; ignore</code> <strong>This is breaking change for V4</strong> please do not forget this.</li>
<li>Now, we need out namespace so, remove "ServiceStackAspNetHost" with your desired project namespace in entire project including web.config file. </li>
<li>Remove any multiple entries of namespace from namespace section in web.cofig file. Do keep one</li>
<li>Rebuild and run it.</li>
</ul>

<p>It should work. If still you stuck any where? I am also putting all V4 projects too, over my <a href="https://github.com/kunjee17/ServiceStackFSharp/tree/master/V4">github repo</a>, have a look at it.</p>

<p>I have also started complete series called <a href="category/functional-web/">Functional Web</a>, where I will be putting everything I know to get started. Not only for SS but also for others.</p>

<p>So, as everyone is putting up API for their web application. Why we should stay behind?!?</p>

<p>Feedback and comments are always welcome.</p>


  <div id="disqus_thread"></div>
<script>
    var reset_disqus = function(){
        DISQUS.reset({
            reload: true,
            config: function () {
                //this.page.identifier = '';
                this.page.url = 'http://kunjan.in/2014/02/servicestack-fsharp-template-circle-is-complete/';
                //this.page.title = '';
            }
        });
    };

    var disqus_shortname = 'kunjan';
    var disqus_url = 'http://kunjan.in/2014/02/servicestack-fsharp-template-circle-is-complete/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    window.addEventListener('orientationchange', reset_disqus);
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f054dec05e2662c"></script>

</div>
            </div>
            <!-- #content -->
        </div>
        <!-- #primary .site-content -->

        <div id="secondary" class="widget-area fancy-container lightred" role="complementary">
            <aside id="text-5" class="widget widget_text">
                <h1 class="widget-title">Follow</h1>
                <div class="textwidget logos">
                    <a href="https://twitter.com/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="/stylesheets/images/twitter.png"></a>
                    <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://stackoverflow.com']);"><img src="/stylesheets/images/stackoverflow.png"></a>
                    <a href="http://www.linkedin.com/in/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linkedin.com']);"><img src="/stylesheets/images/linkedin.png"></a>
                    <a href="https://github.com/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="/stylesheets/images/github.png"></a>

                </div>
                <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank">
                  <img src="http://stackoverflow.com/users/flair/859490.png" width="208" height="58" alt="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
              </a>

          </aside>

          <aside id="linkcat-6" class="widget widget_links">
            <h1 class="widget-title">Other Blogs</h1>
            <ul class='xoxo blogroll'>
                <li><a href="http://www.hanselman.com/blog/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.hanselman.com/blog/']);">Scott Hanselman</a></li>
                <li><a href="http://www.wekeroad.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.wekeroad.com/']);">Rob Conery</a></li>
                <li><a href="http://haacked.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://haacked.com/']);">Phil Haack</a></li>
                <li><a href="http://hanselminutes.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://hanselminutes.com/']);">Hanselminutes</a></li>
                <li><a href="https://sergeytihon.wordpress.com/category/f-weekly/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','https://sergeytihon.wordpress.com/category/f-weekly/']);">F# Weekly</a></li>
                <li><a href="http://fsharpforfunandprofit.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://fsharpforfunandprofit.com/']);">F# for Fun and Profit</a></li>
            </ul>

        </aside>
        <aside id="archives-4" class="widget widget_archive">
            <h1 class="widget-title">Archive</h1>
            <ul class="posts">
                <li><a href="/archive#201511">November, 2015</a></li>
                <li><a href="/archive#20154">April, 2015</a></li>
                <li><a href="/archive#20153">March, 2015</a></li>
                <li><a href="/archive#201411">November, 2014</a></li>
                <li><a href="/archive#201410">October, 2014</a></li>
                <li><a href="/archive#20146">June, 2014</a></li>
                <li><a href="/archive#20144">April, 2014</a></li>
                <li><a href="/archive#20143">March, 2014</a></li>
                <li><a href="/archive#20142">February, 2014</a></li>
                <li><a href="/archive#201312">December, 2013</a></li>
                <li><a href="/archive#201311">November, 2013</a></li>
                <li><a href="/archive#201310">October, 2013</a></li>
                <li><a href="/archive#20138">August, 2013</a></li>
                <li><a href="/archive#20131">January, 2013</a></li>
                <li><a href="/archive#201212">December, 2012</a></li>
                <li><a href="/archive#201211">November, 2012</a></li>
                <li><a href="/archive#201210">October, 2012</a></li>
                <li><a href="/archive#20129">September, 2012</a></li>
                <li><a href="/archive#20124">April, 2012</a></li>
                <li><a href="/archive#20123">March, 2012</a></li>
                <li><a href="/archive#20122">February, 2012</a></li>
                <li><a href="/archive#20121">January, 2012</a></li>
                <li><a href="/archive#201112">December, 2011</a></li>
                <li><a href="/archive#201111">November, 2011</a></li>
                <li><a href="/archive#201110">October, 2011</a></li>
        </ul>
    </aside>
</div>
<!-- #secondary .widget-area -->


</div>
<!-- #main -->

<footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info">
        Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
    </div>
    <!-- .site-info -->
</footer>
<!-- #colophon .site-footer -->
</div>
<!-- #page .hfeed .site -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src='/javascripts/prettify.js' type='text/javascript'></script>

<script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-37975068-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

<script type='text/javascript'>
  $(function () {
    $("pre code").parent().each(function () {
      if (!$(this).hasClass("prettyprint")) {
        $(this).addClass("prettyprint");
        a = true
    }
});

    prettyPrint();
});


  $(function(){
    $.ajax({
        url: "http://dynamic.xkcd.com/api-0/jsonp/comic?callback=?",
        dataType: "json",
        jsonpCallback: "xkcddata",
        success: function(data) {
            $("#xkcdcontent").append(
                $("<h1/>").text(data.title),
                $("<img/>").attr({
                    src: data.img,
                    title: data.alt,
                    alt: data.title
                })
                );
        }
    });
});
</script>
</body>
</html>
