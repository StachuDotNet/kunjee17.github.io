<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2015-12-19T09:47:58.5223860+05:30" />
    <title>Kunjan a.k.a. Kunjee's blog</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/ico">
    <link rel="shortcut icon" href="/images/favicon.gif" type="image/gif">
    <link rel="canonical" href="http://kunjan.in/2015/12/1729/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="Kunjee's Blog" rel="home">Kunjan's Blog</a></h1>
                <h2><small>Why Did the Chicken Cross the Möbius Strip?</small></h2>
                <p class="site-description"> All idea, opinion are my own and don't reflect opinion of my current or any former employer. </p>
                
        </hgroup>
        <nav role="navigation" class="site-navigation main-navigation">
            <h1 class="assistive-text">Menu</h1>
            <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
            <div class="menu">
                <ul>

                    <li><a href="/category">Categories</a></li>
                    <li><a href="/archive">Archive</a></li>
                    <li><a href="/resume">Resume</a></li>
                    <li><a href="/about">About</a></li>
                    <li><a href="/search">Search</a></li>
                    <li><a href="/rss.xml">RSS</a> / <a href="/feed.xml">Atom</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <div id="main">
        <div id="primary" class="site-content">
            <div id="content" role="main">

                
<meta name="description" content="Hardy - Ramanujan Number" />
<meta name="author" content="Kunjan Dalal" />
<div id="post">
  <h1>1729</h1>
  <div class="post-note">
    posted on 17 Dec 2015
    | <a href="/category/technical">Technical</a>
    | <a href="/category/oss">OSS</a>
    | <a href="/category/functional">Functional</a>
    | <a href="/category/functional-programming">Functional Programming</a>
    | <a href="/category/fsadvent">FsAdvent</a>

<!--       <div class="addthis_toolbox addthis_default_style" style="float:right;">
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_button_tweet"></a>
        <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
        <a class="addthis_button_linkedin_counter"></a>
        <a class="addthis_counter addthis_pill_style"></a>
      </div>
    -->

    <!-- AddThis Button BEGIN -->
    <div class="hidden-phone">
      <div class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:title="1729">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
      </div>
    </div>
    <!-- AddThis Button END -->




  </div>

  

  <blockquote>
  <p>This post is part of <a href="https://sergeytihon.wordpress.com/2015/10/25/f-advent-calendar-in-english-2015/">F# Advent</a> calender. Thanks <a href="https://twitter.com/sergey_tihon">Sergey Tihon</a> for arranging this and giving me chance. </p>
</blockquote>

<p>First I like to clarify that this was <em>not</em> my original choice for FSAdvent calender. I was going to write long post about web, AKKA, api and real time system. My current working area. But this time's calender entries are reaching new level and dimension. And recent <a href="http://evelinag.com/blog/2015/12-15-star-wars-social-network/index.html#.VnK_aRV97IV">post</a> from <a href="https://twitter.com/evelgab">Evelina Gabasova</a> is kind of reason behind change. Do read the post and you may like to re-watch <strong>Star Wars</strong> series. Evelina you are super awesome. And post was too good.  </p>

<p>So, why <strong><em>1729</em></strong>?</p>

<!--excerpt-->

<p>I have special love for Mathematics. Unluckily I never got chance to take formal mathematics training. I'm an engineer so know things here and there to solve the problem. May be more than others for Physics and Mathematics just because of my love. It is so much fun doing them. </p>

<p>In our side of country if you are scoring good marks in School either you become doctor or if little less then engineer. Normally there is no other choices. Hope you got the point why I'm engineer (mine was little too less). But if you ask a name of well known gifted mathematician from India first name come is <a href="https://en.wikipedia.org/wiki/Srinivasa_Ramanujan">Srinivasa Ramanujan</a>. And we have a exam series on his name. It is way tough, I still remember that I prepared and never gather enough guts to give one. Damn afraid of failing. But my senior and first leaving mathematics role model my senior in school <a href="http://www.pubfacts.com/author/Vithal+Rangarajan">Dr.Vithal Rangarajan</a> scored 2nd rank and joined Medicine. Yet, my another friend <a href="https://twitter.com/path_to_parth">Dr.Parth Ganatra</a> same story. You mostly getting gist why we are having rare Ramanujans in India. Because most of them become Doctors. </p>

<p>Enough of back ground noise. Let's have some fun with numbers. You can check out wiki page for the story of <strong><em>1729</em></strong> number. It is the smallest number expressible as the sum of two cubes in two different ways. </p>

<blockquote>
  <p>Ok, that is good. But I don't have enough brain power to cross check that. And if that is smallest which are others?</p>
</blockquote>

<p>So, I decided to find out by self. And at midnight I started working on this. </p>

<p>My first try was going to question form the result. But for some reason <code>Math.Floor (1728.0 ** (1.0/3.0))</code> is resulting in <code>11.0</code>. I have no idea why. It should come <code>12.0</code>. Then I thought how he has arrived to this number. It is smallest so he must have started from <code>1</code>.</p>

<blockquote>
  <p>F# gurus can you please tell me why <code>1728.0 ** (1.0/3.0) = 12.0 //false</code> ?</p>
</blockquote>

<p>Here is code snippet.  I start with sequence of numbers and cube it. </p>

<pre><code>let posNum = seq {1..101}

let cube x = x * x * x 

let cubeposNum = 
    posNum 
    |&gt; Seq.map (fun x -&gt; (x, cube x))
</code></pre>

<p>I have returned tuple instead of cube result so I can use it afterwords in visualizing data.</p>

<p>Now, its time to find out total combinations </p>

<pre><code>let totalCombination = 
    cubeposNum 
    |&gt; Seq.map (fun (a,b) -&gt; cubeposNum |&gt; Seq.map (fun (x,y) -&gt; (a,x,b+y)))
    |&gt; Seq.concat
</code></pre>

<p>It gives all the possible combinations numbers. Again in tuple I am returning result and numbers that are being cubed and added. Same reason for display purpose.</p>

<p>Now, time for truth.</p>

<p>Here is final result </p>

<pre><code>let finalResult =
    totalCombination
    |&gt; Seq.countBy (fun (x,y,z) -&gt; z)
    |&gt; Seq.filter (fun (x,y) -&gt; y &gt;= 4)
    |&gt; Seq.map (fun (x,y) -&gt; x)
</code></pre>

<p>It will return Sequence of numbers fulfilling above condition. if you are wondering for <code>y&gt;=4</code> then 4 is because (1,2,9) is same as (2,1,9). As I need two distinct pair, I having four pair. I did have used greater than 4 but couldn't found any pair bigger than 4 for given set. </p>

<p>Time for doing some analysis of numbers. </p>

<pre><code>let dirtyHack (inputSeq)=
    let a = inputSeq |&gt; Seq.item 0
    let b = inputSeq |&gt; Seq.item 1
    let c = inputSeq |&gt; Seq.item 2
    (a, b, c)

let pairValues =
    finalResult 
    |&gt; Seq.map (fun x -&gt; totalCombination |&gt; Seq.filter (fun (a,b,c) -&gt; c = x ))
    |&gt; Seq.map (fun a -&gt; a |&gt; Seq.map (fun (x,y,z) -&gt; seq[x;y;z] |&gt; Seq.sort |&gt; dirtyHack))
    |&gt; Seq.map (fun x -&gt; x |&gt; Seq.distinct)
</code></pre>

<p>It will give Sequence of Sequences which contains tuple of numbers. Where tuple is in form of <code>(a , b, a^3 + b^3)</code>. <em>Dirty hack</em> part I couldn't get it right so I will be grateful if someone can provide better solution in that part.</p>

<p>We have all the things. It's time to put data to view. </p>

<pre><code>//form crazyness - a copy paste from 2010 code :P

let form = new Form(Visible = true, Text = "A Simple F# Form",
                    TopMost = true, Size = Size(600,600))

let data = new DataGridView(Dock = DockStyle.Fill, Text = "Hardy–Ramanujan number",
                            Font = new Font("Lucida Console",12.0f),
                            ForeColor = Color.DarkBlue
                            )


form.Controls.Add(data)

data.DataSource &lt;- (pairValues |&gt; Seq.concat |&gt; Seq.sortBy (fun (x,y,z) -&gt; z) |&gt; Seq.toArray)
data.Columns.[0].Width &lt;- 200
data.Columns.[1].Width &lt;- 200
data.Columns.[2].Width &lt;- 200

data.Columns.[0].HeaderText &lt;- "a"
data.Columns.[1].HeaderText &lt;- "b"
data.Columns.[2].HeaderText &lt;- "(a^3 + b^3)"
</code></pre>

<p>Clearing up the data showing up in grid view. Below are screen shots of complete data.
<img src="/images/1729Form1.PNG" alt="" />
<img src="/images/1729Form2.PNG" alt="" />
<img src="/images/1729Form3.PNG" alt="" /></p>

<p>Looks good. </p>

<p>Put on chart to see where data is moving.</p>

<pre><code>let taxicabnumbers = pairValues 
                     |&gt; Seq.concat 
                     |&gt; Seq.sortBy (fun (x,y,z) -&gt; z) 
                     |&gt; Seq.map (fun (x,y,z) -&gt; z) 
                     |&gt; Seq.distinct

Chart.Point (taxicabnumbers,"TaxiCabNumbers","TaxiCab Number")
</code></pre>

<p><img src="/images/1729Chart1.PNG" alt="" /></p>

<p>above chart is showing distribution of result of numbers which are fulfilling above condition.</p>

<pre><code>let taxicabnumbersX = pairValues 
                     |&gt; Seq.concat 
                     |&gt; Seq.sortBy (fun (x,y,z) -&gt; z) 
                     |&gt; Seq.map (fun (x,y,z) -&gt; (x,z)) 


Chart.Point (taxicabnumbersX,"TaxiCabNumbersX","TaxiCab Number in ref to X")
</code></pre>

<p><img src="/images/1729Chart2.PNG" alt="" /></p>

<p>above chart is showing distribution in compare to number X</p>

<pre><code>let taxicabnumbersY = pairValues 
                     |&gt; Seq.concat 
                     |&gt; Seq.sortBy (fun (x,y,z) -&gt; z) 
                     |&gt; Seq.map (fun (x,y,z) -&gt; (y,z)) 


Chart.Point (taxicabnumbersY,"TaxiCabNumbersY","TaxiCab Number in ref to Y")
</code></pre>

<p><img src="/images/1729Chart3.PNG" alt="" /></p>

<p>above chart is showing distribution in compare to number Y</p>

<pre><code>Chart.Combine[
    Chart.Point(taxicabnumbersX, "TaxiCabNumbersX")
    Chart.Point(taxicabnumbersY, "TaxiCabNumbersY")
]
</code></pre>

<p><img src="/images/1729Chart4.PNG" alt="" /></p>

<p>above chart is showing both X,Y. Here, X and Y is pretty much interchangeable.</p>

<p>Code is not that good. But F# makes it pretty easy to work with. I will not bash any other language or style of programming today. As it is my <strong>*BirthDay</strong> today (1712 was pretty boring number and so I took 1729. :P ). But you can make it out. How, easy it can be. </p>

<p>Ramanujan is having many other interesting formula that can be proved and analyst same way. One of them I personally like is [Partition Number Theory](https://en.wikipedia.org/wiki/Partition<em>(number</em>theory), but may be next time. At his time we don't that much computing power or programming language to solve this type of problems. Or even prove them. How, he did it. No one knows. (I doubt he must be more functional. ;) ). </p>

<p>I will really appreciate any input for code. I know it is pretty poor in quality. <a href="https://gist.github.com/kunjee17/6965af56a3821ad2d850">Gist</a> is here. I love to have comments and PR. I will update my code/blog accordingly. </p>

<blockquote>
  <p>Special request. It will be great if someone can compress the code that can be tweeted to <a href="https://twitter.com/fsibot">fsibot</a> and it will return 1729. </p>
</blockquote>

<p>Thanks for wonderful and supporting community.  <strong>Merry Christmas and Happy New Year</strong> to all.</p>

<h2>Update1</h2>

<p>Special thanks to <a href="https://twitter.com/StachuDotNet">Stachu Korick</a> complete logic comes in single tweet. Here it is.</p>

<blockquote class="twitter-tweet" lang="en"><p lang="und" dir="ltr"><a href="https://twitter.com/fsibot">@fsibot</a> seq{for el1 in [1..99] do for el2 in [1..99] do yield el1*el1*el1+el2*el2*el2}|&gt;Seq.countBy(fun z-&gt;z)|&gt;Seq.find(fun(_,y)-&gt;y&gt;=4)|&gt;fst</p>&mdash; Stachu Korick (@StachuDotNet) <a href="https://twitter.com/StachuDotNet/status/677942581645455360">December 18, 2015</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>This is the reason I love F# community so much. </p>

<h2>Update2</h2>

<p><a href="https://twitter.com/StachuDotNet">Stachu Korick</a> is not stopping at all. Here is second version more legitimate one from him.</p>

<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/fsibot">@fsibot</a> &#10;seq{for a in [1..99] do for b in [1..99] do yield (a*a*a)+(b*b*b)}&#10; |&gt;Seq.countBy(fun z-&gt;z)&#10; |&gt;Seq.find(fun(_,y)-&gt;y&gt;=4)&#10; |&gt;fst</p>&mdash; Stachu Korick (@StachuDotNet) <a href="https://twitter.com/StachuDotNet/status/678059350317998080">December 19, 2015</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>This is fun part with F# and in general functional language. You make thing work with ugly and <strong>simple</strong> code. And then re-factor it with beautiful and <strong>simple</strong> code.</p>


  <div id="disqus_thread"></div>
<script>
    var reset_disqus = function(){
        DISQUS.reset({
            reload: true,
            config: function () {
                //this.page.identifier = '';
                this.page.url = 'http://kunjan.in/2015/12/1729/';
                //this.page.title = '';
            }
        });
    };

    var disqus_shortname = 'kunjan';
    var disqus_url = 'http://kunjan.in/2015/12/1729/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    window.addEventListener('orientationchange', reset_disqus);
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f054dec05e2662c"></script>

</div>
            </div>
            <!-- #content -->
        </div>
        <!-- #primary .site-content -->

        <div id="secondary" class="widget-area fancy-container lightred" role="complementary">
            <aside id="text-5" class="widget widget_text">
                <h1 class="widget-title">Follow</h1>
                <div class="textwidget logos">
                    <a href="https://twitter.com/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="/stylesheets/images/twitter.png"></a>
                    <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://stackoverflow.com']);"><img src="/stylesheets/images/stackoverflow.png"></a>
                    <a href="http://www.linkedin.com/in/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linkedin.com']);"><img src="/stylesheets/images/linkedin.png"></a>
                    <a href="https://github.com/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="/stylesheets/images/github.png"></a>

                </div>
                <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank">
                  <img src="http://stackoverflow.com/users/flair/859490.png" width="208" height="58" alt="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
              </a>

          </aside>

          <aside id="linkcat-6" class="widget widget_links">
            <h1 class="widget-title">Other Blogs</h1>
            <ul class='xoxo blogroll'>
                <li><a href="http://www.hanselman.com/blog/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.hanselman.com/blog/']);">Scott Hanselman</a></li>
                <li><a href="http://www.wekeroad.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.wekeroad.com/']);">Rob Conery</a></li>
                <li><a href="http://haacked.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://haacked.com/']);">Phil Haack</a></li>
                <li><a href="http://hanselminutes.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://hanselminutes.com/']);">Hanselminutes</a></li>
                <li><a href="https://sergeytihon.wordpress.com/category/f-weekly/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','https://sergeytihon.wordpress.com/category/f-weekly/']);">F# Weekly</a></li>
                <li><a href="http://fsharpforfunandprofit.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://fsharpforfunandprofit.com/']);">F# for Fun and Profit</a></li>
            </ul>

        </aside>
        <aside id="archives-4" class="widget widget_archive">
            <h1 class="widget-title">Archive</h1>
            <ul class="posts">
                <li><a href="/archive#201512">December, 2015</a></li>
                <li><a href="/archive#201511">November, 2015</a></li>
                <li><a href="/archive#20154">April, 2015</a></li>
                <li><a href="/archive#20153">March, 2015</a></li>
                <li><a href="/archive#201411">November, 2014</a></li>
                <li><a href="/archive#201410">October, 2014</a></li>
                <li><a href="/archive#20146">June, 2014</a></li>
                <li><a href="/archive#20144">April, 2014</a></li>
                <li><a href="/archive#20143">March, 2014</a></li>
                <li><a href="/archive#20142">February, 2014</a></li>
                <li><a href="/archive#201312">December, 2013</a></li>
                <li><a href="/archive#201311">November, 2013</a></li>
                <li><a href="/archive#201310">October, 2013</a></li>
                <li><a href="/archive#20138">August, 2013</a></li>
                <li><a href="/archive#20131">January, 2013</a></li>
                <li><a href="/archive#201212">December, 2012</a></li>
                <li><a href="/archive#201211">November, 2012</a></li>
                <li><a href="/archive#201210">October, 2012</a></li>
                <li><a href="/archive#20129">September, 2012</a></li>
                <li><a href="/archive#20124">April, 2012</a></li>
                <li><a href="/archive#20123">March, 2012</a></li>
                <li><a href="/archive#20122">February, 2012</a></li>
                <li><a href="/archive#20121">January, 2012</a></li>
                <li><a href="/archive#201112">December, 2011</a></li>
                <li><a href="/archive#201111">November, 2011</a></li>
                <li><a href="/archive#201110">October, 2011</a></li>
        </ul>
    </aside>
</div>
<!-- #secondary .widget-area -->


</div>
<!-- #main -->

<footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info">
        Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
    </div>
    <!-- .site-info -->
</footer>
<!-- #colophon .site-footer -->
</div>
<!-- #page .hfeed .site -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src='/javascripts/prettify.js' type='text/javascript'></script>

<script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-37975068-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

<script type='text/javascript'>
  $(function () {
    $("pre code").parent().each(function () {
      if (!$(this).hasClass("prettyprint")) {
        $(this).addClass("prettyprint");
        a = true
    }
});

    prettyPrint();
});


  $(function(){
    $.ajax({
        url: "http://dynamic.xkcd.com/api-0/jsonp/comic?callback=?",
        dataType: "json",
        jsonpCallback: "xkcddata",
        success: function(data) {
            $("#xkcdcontent").append(
                $("<h1/>").text(data.title),
                $("<img/>").attr({
                    src: data.img,
                    title: data.alt,
                    alt: data.title
                })
                );
        }
    });
});
</script>
</body>
</html>
