<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2014-02-06T14:32:00.6815209+05:30" />
    <title>Kunjan a.k.a. Kunjee's blog</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/ico">
    <link rel="shortcut icon" href="/images/favicon.gif" type="image/gif">
    <link rel="canonical" href="http://kunjan.in/page3/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="Kunjee's Blog" rel="home">Kunjan's Blog</a></h1>
                <h2><small>Why Did the Chicken Cross the Möbius Strip?</small></h2>
                <p class="site-description"> All idea, opinion are my own and don't reflect opinion of my current or any former employee. </p>
            </hgroup>
            <nav role="navigation" class="site-navigation main-navigation">
                <h1 class="assistive-text">Menu</h1>
                <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
                <div class="menu">
                    <ul>
                       
                        <li><a href="/category">Categories</a></li>
                        <li><a href="/archive">Archive</a></li>
                        <li><a href="/resume">Resume</a></li>
                         <li><a href="/about">About</a></li>
                        <li><a href="/rss.xml">RSS</a> / <a href="/feed.xml">Atom</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="main">
            <div id="primary" class="site-content">
                <div id="content" role="main">
                  

  <ul class="posts">
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/03/moving-away-from-oop/">Moving away from OOP</a> 
        <span>posted on 24 Mar 2012</span>
      </h1> 
      
      <p>OOP, it is a full form of Object Oriented Programming. And even with starting of career in software engineering we are force to implement OOP in our coding. Cross your heart and tell how many time we are implementing???</p>

<p>I start my career with .Net / C#. And C# is object oriented language. But I code like C. Pushing function for every thing. May be it is my love for it. And what happened I end up with 14000 line of code and crashing the system. At that point of time I shift and optimized my code which end up with 700 lines of code and pretty nice working product. This is the first time I come to know that there is a use of object oriented system other than writing exam and cracking interview.</p>

<p>But again its just about creating objects, nothing else. Then I work with pretty big web application. At that point I learn something about Architecture. Oh! that is nice. Even software also has an Architecture. So, it is moving away from OOP. May be yes ???</p>

<p>It is like difference between Civil engineer and an Architecture. It is some advanced functionality which are implemented using Object Oriented fundamentals. And these are not new things but advanced version of what I have learn. These are <a href="http://en.wikipedia.org/wiki/Software_design_pattern">Design Patterns</a> .</p>

<p>First it was created by Gang of Four. They are pillars and pioneers of design patterns. Although it is easy to learn but hard to choose between. But may be in future I will be writing something on these patterns. Till than if you are from Dot Net background do check out <a href="http://dofactory.com/Default.aspx">this</a> site. It has all the details needed to learn Design Patterns.</p>

      <p><a href="/2012/03/moving-away-from-oop/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/02/massive-effect/">Massive Effect</a> 
        <span>posted on 29 Feb 2012</span>
      </h1> 
      
      <p>Hope you have read my earlier <a href="http://kunjan.in/archives/arrival-of-david-aka-micro-orm">post</a> about Micro <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> . Here I talk about another Micro ORM <a href="https://github.com/robconery/massive">Massive</a> . I don’t want to go with traditional approach. I write intro about <a href="http://wekeroad.com/">Rob Conery</a> and give some details about <a href="https://github.com/robconery/massive">Massive</a> . Few example here and there, some hyperlinks and that’s it. I will try to find answer of “why” instead of “how”. For how part we have more than enough example and also have <a href="http://stackoverflow.com/">stackoverflow</a> to solve issues. Still I go through technical details at the end, but article will not be like tutorial for <a href="https://github.com/robconery/massive">Massive</a> .</p>

<p>Let’s start from the start. I was just wondering around the <a href="http://asp.net">asp.net</a> web site. And come across the tutorial of <a href="http://www.asp.net/mvc/videos/mvc-1/aspnet-mvc-storefront/aspnet-mvc-storefront-part-1-architectural-discussion-and-overview">store front</a> . There I found person with name <a href="http://wekeroad.com/">Rob Conery</a> . As usual I found his site and come to know that he recently left job. I was little upset, as I liked the way he explained. Then I came across his another video in speaking section, <a href="http://ndc2011.macsimum.no/mp4/Day2%20Thursday/Track1%201140-1240.mp4">Kill Your ORM</a> . This is the first time I come across something called Micro ORM. And this is the moment when I press the refresh button of my technical skill or thinking or approach what so ever you can say. I just open up my mind and options I am trying.</p>

<p><a href="http://wekeroad.com/">Rob Conery</a> is like Tony Stark of Technical Arena. And every now and then he create some new element ( <a href="http://en.wikipedia.org/wiki/Open-source_software">OSS</a> ).</p>

<p><img src="https://github.com/robconery/massive" alt="](https://lh5.googleusercontent.com/-Eq-pGJZhHtU/URHJx47Y2dI/AAAAAAAAAsY/LO2BqVFZUTQ/s800/iron-man-32_2.jpg) <img src="https://lh6.googleusercontent.com/-GIE2x98SNDE/URHJqwsNwNI/AAAAAAAAAqM/l7n__dsAo9o/s800/RobCon_Hanselman_2_2.jpg" alt="" /> The second one in white shirt is Rob Sir. He is not just in his Iron suit. And here are few elements created by him [Massive" /> , <a href="http://github.com/robconery/manatee">Manatee</a> and <a href="http://github.com/robconery/subsonic">Sub Sonic</a> .</p>

<p>And there are few other heroes of mine specifically in technical arena. But about them will talk later. Still you can enjoy the image comparison.</p>

<p><img src="https://lh5.googleusercontent.com/-xtkof-Bai6g/URHJqhgda7I/AAAAAAAAAqE/CqRSsiZ424k/s800/Qui_gon_jinn_from_movie_2.jpg" alt="" /> <img src="https://lh3.googleusercontent.com/-jzEvsjhnylg/URHJuutPtOI/AAAAAAAAArY/wmXiv7qRjEg/s800/hanselman_4.png" alt="" /> </p>

<p>And</p>

<p><img src="https://lh4.googleusercontent.com/-2FeVrSh4Xas/URHJnpRUhnI/AAAAAAAAAo8/dvptH8qu1qY/s800/149117-batman-returns-dos-screenshot-main-computer-s_2.gif" alt="" /> <img src="https://lh4.googleusercontent.com/-uTs5lIhQLgA/URHJz2abyDI/AAAAAAAAAs4/agORU4lbeoo/s800/phil_2.jpg" alt="" /></p>

<p><strong>Images are of course not my proprietary, if anyone has problem with it. Please let me know will remove it.</strong> </p>

<p>Now, come back to <a href="https://github.com/robconery/massive">Massive</a> .</p>

<blockquote>
  <p>Why???????</p>
</blockquote>

<p>Isn’t it nice to have POCO objects and that will take care of all things. Obviously it is NICE. I don’t like Database at all. And that complex joins and yet another language to learn… Nope. I hate it. But just give the answer of one simple question.</p>

<blockquote>
  <p>If I am using <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> , does it allow me to not to use SQL at all? </p>
</blockquote>

<p>No. I don’t think so. And I am not talking about hypothetical situation. I am talking about real life situation. Real project and real experience. Every now and then I have to double check my query with SQL query. This just double the work of mine. And it is useful to add value to my Resume only. Here I am not talking about performance at all. Everyone knows benchmark. I am talking about working. In a very distributed system, with DBA working round the clock.</p>

<blockquote>
  <p>Is there a space for ORM?</p>
</blockquote>

<p>No, I don’t think so. If I am alone and working on some small scale project than its fine. Just go with it. But with big scale project even today also DBAs are integral part of system. And trust me they don’t know .net or Java or not even care about it. I have use <a href="http://en.wikipedia.org/wiki/Inversion_of_control">IOC</a> , <a href="http://www.martinfowler.com/eaaCatalog/repository.html">Repository Pattern</a> , <a href="http://www.oodesign.com/factory-pattern.html">Factory Pattern</a> or anything else they don’t even care. They just create that massy tables which no one going to understand in one shot. At least I never understand that one to one and one to many and n level down with tables relationship at one shot. I remember eventually but still at one shot no chance.</p>

<p>Many will argue that, ORM will decrease my work on application level. Yes may be. But thing is I am learning something to replace something. Like I am learning Entity Framework because I don’t like to work with SQL. I learn every in and out of Entity Framework, checking out screen cast, blogs, articles etc. And one day I have to debug query which is SQL. I feel this is just overhead. At least for now. At some point of time, may be there will be no need of Database or SQL. Everything will shift to Application level and at that point of time EF will be necessity or just part of language. But now it is not. And that is creating problems. And it is general statement for all <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> s. You are learning something new but old is still there you cant escape. Even <a href="https://github.com/robconery/massive">Massive</a> has some learning curve. But in case of Micro ORMs learning curve is some what simpler and smaller.</p>

<blockquote>
  <p>If in any case Rob sir if you are reading this article can you please give the answer of these questions. I should devote more time to execute complex task or why ORM is not working to execute task? Either learn and add html tag or give more time to why html helper is not working?</p>
</blockquote>

<p>Means there are more important things to do, other than solving error of framework which are designed to help us. I am not criticizing framework, I just love it and can’t leave with out it but if they are replacing core than good but if I have to use combination than I am not in favor of it. Like C# is developed over C++, but I never have to debug C# at C++ level. I hope you are getting my point. One more example of <a href="http://knockoutjs.com/">knockoutjs</a> . It is java script library which is using “data-bind’ key word to bind with java script object or function. Now, I want to use it with html helper. I simply pass anonymous object in it and banged. Error arrived. I Google it, waste almost half an hour and find out I have to pass “data_bind” instead of “data-bind” specifically for helper method. If I am using pure html syntax than my half an hour is saved.</p>

<p>I am not opposing concept of <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> and also if I got chance will work to improve it to next level. But when I have to create application with time constraint I will avoid it. This is complete personal opinion. But I do have some reason to support my opinion.</p>

<blockquote>
  <p>Now, How?</p>
</blockquote>

<p>As promise this will be short and sweet. I personally go for <a href="http://en.wikipedia.org/wiki/MVVM">MVVM pattern</a> . Now, if I am developing application using Asp.Net MVC. I have controller, model and view. Now, in model section I separated with two section. ViewModel and Model. I do it by using two different files. You can chose any other approach. In model we have class which have one to one relationship with database and inherited from DynamicModel from <a href="https://github.com/robconery/massive">Massive</a> . And view model has class which can be used in views and same type of class we can have in java script. So, it can be used using <a href="http://knockoutjs.com/">knockoutjs</a> . Here are some example of <a href="https://github.com/robconery/massive">Massive</a> . This is directly taken from site. If anyone want can skip it.</p>

<blockquote>
  <p>This is another best part of Micro ORM. You don’t need tutorial at all. I am not good at SQL, <a href="https://github.com/robconery/massive">Massive</a> can execute any complex SQL using same syntax, <a href="https://github.com/robconery/massive">Massive</a> it self is quite simple. So, I don’t have anything special or complex or alien to write.</p>
</blockquote>

<pre><code>public class Products:DynamicModel { //you don't have to specify the connection - Massive will use the first one it finds in your config 
</code></pre>

<p>public Products(): base ( "northwind" , "products" , "productid" ) {
    } 
  } 
  var table = new Products(); //grab all the products 
  var products = table.All(); //just grab from category 4. This uses named parameters 
  var productsFour = table.All(columns: "ProductName as Name" , where : "WHERE categoryID=@0" ,args: 4); 
  var result = tbl.Query( "SELECT * FROM Categories" ); // my favorite function, no need to learn massive use this function :P 
    for Grid view like things, it also has paged query. 
  var result = tbl.Paged(where : "UnitPrice &gt; 20" , currentPage:2, pageSize: 20); // Insert and update are quite flexible in Massive, you should try with different options 
  var table = new Products(); 
  var poopy = new {ProductName = "Chicken Fingers" }; //update Product with ProductID = 12 to have a ProductName of "Chicken Fingers" 
  table.Update(poopy, 12); 
  var table = new Products(); //update Product with ProductID = 12 to have a ProductName of whatever was submitted via the form 
  table.Update(poopy, Request.Form); //pretend we have a class like Products but it's called Categories 
  var table = new Categories(); //do it up - the new ID will be returned from the query 
  var newID = table.Insert(new {CategoryName = "Buck Fify Stuff" , Description = "Things I like" }); </p>

<p>So, Here is the reason why I prefer Micro ORM or NO ORM over ORM. I learned, I used and I am hurt so I avoid. But trust me <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> is so cool to mess with it but it should be done in free time for personal learning at least for now. Still there can be few more things to discuss, but I like to do that in comment section specially for this article.</p>

<p>Comments are always welcome!!!</p>

<p>[]: https://lh5.googleusercontent.com/-Eq-pGJZhHtU/URHJx47Y2dI/AAAAAAAAAsY/LO2BqVFZUTQ/s800/iron-man-32<em>2.jpg
 []: https://lh6.googleusercontent.com/-GIE2x98SNDE/URHJqwsNwNI/AAAAAAAAAqM/l7n</em><em>dsAo9o/s800/RobCon</em>Hanselman<em>2</em>2.jpg
 []: https://lh5.googleusercontent.com/-xtkof-Bai6g/URHJqhgda7I/AAAAAAAAAqE/CqRSsiZ424k/s800/Qui<em>gon</em>jinn<em>from</em>movie<em>2.jpg
 []: https://lh3.googleusercontent.com/-jzEvsjhnylg/URHJuutPtOI/AAAAAAAAArY/wmXiv7qRjEg/s800/hanselman</em>4.png
 []: https://lh4.googleusercontent.com/-2FeVrSh4Xas/URHJnpRUhnI/AAAAAAAAAo8/dvptH8qu1qY/s800/149117-batman-returns-dos-screenshot-main-computer-s<em>2.gif
 []: https://lh4.googleusercontent.com/-uTs5lIhQLgA/URHJz2abyDI/AAAAAAAAAs4/agORU4lbeoo/s800/phil</em>2.jpg</p>

      <p><a href="/2012/02/massive-effect/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/02/arrival-of-david-aka-micro-orm/">Arrival of David aka Micro Orm</a> 
        <span>posted on 23 Feb 2012</span>
      </h1> 
      
      <p>If you have read my previous <a href="http://kunjan.in/archives/going-to-vietnam-because-of-orm">post</a> . I have talk about how <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> can create mess with the application. And prior to <a href="http://kunjan.in/archives/map-lsquo-your-self-rsquo-using-orm">that</a> I have write that it speed up the production like anything.</p>

<blockquote>
  <p>So, Am I contradicting my self ???</p>
</blockquote>

<p>No, I am just learning new things. I am using <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> but now I am more careful while using it. That’s it.</p>

<blockquote>
  <p>So, why Vietnam ???</p>
</blockquote>

<p>My post is originally inspired by Ted Neward’s <a href="http://blogs.tedneward.com/2006/06/26/The%2BVietnam%2BOf%2BComputer%2BScience.aspx">blog</a> about <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> . And after effect of that blog in the <a href="http://www.codinghorror.com/blog/2006/06/object-relational-mapping-is-the-vietnam-of-computer-science.html">blog</a> of Jeff Atwood.&nbsp; This two blogs nailed the <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> like anything. So, now we have two things ORM is good to increase productivity but bad when it comes to performance. And this gives the birth to Micro ORM.</p>

<p><img src="http://img21.imageshack.us/img21/6734/kgbr.jpg" alt="" /> </p>

<p>As, I remember one of the first Micro ORM is <a href="http://code.google.com/p/dapper-dot-net/">Dapper</a> from the team of <a href="http://stackoverflow.com/">Stackoverflow</a> . And parallel we have <a href="https://github.com/robconery/massive">Massive</a> from <a href="http://wekeroad.com/">Rob Conery</a> . <a href="http://code.google.com/p/dapper-dot-net/">Dapper</a> comes because traditional <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> burned the server of <a href="http://stackoverflow.com/">Stackoverflow</a> by continuously using 100% of CPU. This happens because of heavy access and complex queries generated by <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> . As per them after that; they&nbsp; rewrite the database access of application, remove <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> and use <a href="http://code.google.com/p/dapper-dot-net/">Dapper</a> . And then after they open source it. And this is the only <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> which has better performance just after direct data access to data base. And <a href="https://github.com/robconery/massive">Massive</a> , it just developed because <a href="http://wekeroad.com/">Rob Conery</a> is one of kind of genius person who just like want one more open source project under his belt.</p>

<p>There are few others</p>

<p>Obviously Dapper is fastest as per the benchmark available over their site. But I like <a href="https://github.com/robconery/massive">Massive</a> the most. And other than that <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> is also quite good. I first like to talk about <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> and will talk about <a href="https://github.com/robconery/massive">Massive</a> in my next post.</p>

<p>Now, <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> is a wrapper around System.Data namespace.And may be this is the only <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> with table creation support. So, it do support <a href="http://en.wikipedia.org/wiki/ADO.NET_Entity_Framework#Code_First">code first</a> development. It do give me feeling of <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> without losing performance. So, now we dig into <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> .</p>

<p>If you have worked with classic data access you must have remember data connection class and data command class. Then there is a string variable for Query and data command has that command text and command type. In that we pass details as parameter to save our self from SQL injection. Good old days. I don’t like this type of fuss that much, and every now and then check over then connection. Writing query in database and then again in code.</p>

<p>This is the ORM which solves most of the problem.&nbsp; Here, I will explain how ??? I am using most of the example from its site only. So, if you like to skip the topic here. You can, but I think if you like the above part you will like the rest too. By the way here is the link of <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> .</p>

<p>First and best thing of <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> is, it creates table. Though it provide only one to one mapping with database but still it <strong>CAN</strong> creates the <strong>TABLES.</strong> I am not just big fan of creating table with query. And after writing things on paper, you find very rare occasion where you need to write query for creating table. And also I am more of C# guy, even when I have started the journey of <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> , with LINQ to SQL and Entity Framework, I go with reverse mapping. But after that <a href="http://nuget.org/packages/EntityFramework">Entity Framework Code First</a> enters. That is awesome for creating tables for you. So, you can concentrate on core logic. But again it is Entity Framework so !!!</p>

<p>Here, is the sample of it. You can start with making POCO classes without worrying about your database.</p>

<p>public enum PhoneType {
    Home,
    Work,
    Mobile,
  }
  public enum AddressType {
    Home,
    Work,
    Other,
  }
  public class Address {
  public string Line1 { get; set; }
  public string Line2 { get; set; }
  public string ZipCode { get; set; }
  public string State { get; set; }
  public string City { get; set; }
  public string Country { get; set; }
  }
  public class Customer {
    public Customer() {
      this.PhoneNumbers = new Dictionary <PhoneType, string>();
      this.Addresses = new Dictionary <AddressType, Address>();
    }</p>

<pre><code>[AutoIncrement] 
public int Id { get; set; }

public string FirstName { get; set; }
public string LastName { get; set; }

[Index(Unique = true)] 
public string Email { get; set; }

public Dictionary &lt;PhoneType, string&gt; PhoneNumbers { get; set; }  
public Dictionary &lt;AddressType, Address&gt; Addresses { get; set; }  
public DateTime CreatedAt { get; set; }
</code></pre>

<p>}  </p>

<p>Again this supports all the data annotation from .net 4.0. Here is the example of it.</p>

<pre><code>public class Order {

[AutoIncrement]
public int Id { get; set; }

[References(typeof(Customer))]  
public int CustomerId { get; set; }

[References(typeof(Employee))]  
public int EmployeeId { get; set; }

[StringLenght(256)]
public string ShippingAddress { get; set; } 

public DateTime? OrderDate { get; set; }
public DateTime? RequiredDate { get; set; }
public DateTime? ShippedDate { get; set; }
public int? ShipVia { get; set; }
public decimal Freight { get; set; }
public decimal Total { get; set; }
}  
</code></pre>

<p>So, it supports required, Max Length and all others. I haven’t check all though.</p>

<p>Now, the CRUD operation. It is easy like anything.</p>

<pre><code>var dbFactory = new OrmLiteConnectionFactory(@"Data Source=.SQLEXPRESS;AttachDbFilename=|DataDirectory|App_DataDatabase1.mdf;Integrated Security=True;User Instance=True",SqlServerOrmLiteDialectProvider.Instance);  
</code></pre>

<p>Here is the catch. I was unable to find property to set Dialect provider. After initiating default blank constructor. But you can always go with this default example. Then, one just need to remember that old days of connection creation and command creation and just fire up the command. But, this is <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> . Things must be easy here. And yes, it is damn easy.</p>

<p>I have never seen this much classic use of extension method before. <a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a> extend the functionality of default class and make our work easy like anything. Here, is the example</p>

<p>```cs    </p>

<pre><code>//Non-intrusive: All extension methods hang off System.Data.* interfaces
IDbConnection dbConn = dbFactory.OpenDbConnection()
IDbCommand dbCmd = dbConn.CreateCommand()

//Re-Create all table schemas:
dbCmd.DropTable &lt;OrderDetail&gt;()
dbCmd.DropTable &lt;Order&gt;()
dbCmd.DropTable &lt;Customer&gt;()
dbCmd.DropTable &lt;Product&gt;()
dbCmd.DropTable &lt;Employee&gt;()

dbCmd.CreateTable &lt;Employee&gt;()
dbCmd.CreateTable &lt;Product&gt;()
dbCmd.CreateTable &lt;Customer&gt;()
dbCmd.CreateTable &lt;Order&gt;()
dbCmd.CreateTable &lt;OrderDetail&gt;()

dbCmd.Insert(new Employee { Id = 1, Name = "Employee 1" })
dbCmd.Insert(new Employee { Id = 2, Name = "Employee 2" })
var product1 = new Product { Id = 1, Name = "Product 1", UnitPrice = 10 }
var product2 = new Product { Id = 2, Name = "Product 2", UnitPrice = 20 }
dbCmd.Save(product1, product2)

var customer = new Customer
{
  FirstName = "Orm",
  LastName = "Lite",
  Email = "ormlite@servicestack.net",
  PhoneNumbers =
  {
    { PhoneType.Home, "555-1234" },
    { PhoneType.Work, "1-800-1234" },
    { PhoneType.Mobile, "818-123-4567" },
  },
  Addresses =
  {
    { AddressType.Work, 
    new Address 
      { Line1 = "1 Street", Country = "US", State = "NY", City = "New York", ZipCode = "10101" } 
      },
    },
    CreatedAt = DateTime.UtcNow,
  }
dbCmd.Insert(customer)

var customerId = dbCmd.GetLastInsertId()
customer = dbCmd.QuerySingle &amp;lt;Customer&amp;gt;(new { customer.Email })
Assert.That(customer.Id, Is.EqualTo(customerId))

//Direct access to System.Data.Transactions:
using (var trans = dbCmd.BeginTransaction(IsolationLevel.ReadCommitted))
{
  var order = new Order
{
CustomerId = customer.Id,
EmployeeId = 1,
OrderDate = DateTime.UtcNow,
Freight = 10.50m,
ShippingAddress = new Address { Line1 = "3 Street", Country = "US", State = "NY", City = "New York", ZipCode = "12121" },
}
dbCmd.Save(order)

order.Id = (int)dbCmd.GetLastInsertId()

var orderDetails = new[] {
  new OrderDetail
  {
    OrderId = order.Id,
    ProductId = product1.Id,
    Quantity = 2,
    UnitPrice = product1.UnitPrice,
  },
  new OrderDetail
  {
    OrderId = order.Id,
    ProductId = product2.Id,
    Quantity = 2,
    UnitPrice = product2.UnitPrice,
    Discount = .15m,
  }
}

dbCmd.Insert(orderDetails)

order.Total = orderDetails.Sum(x =&gt; x.UnitPrice * x.Quantity * x.Discount) +  order.Freight

dbCmd.Save(order)

trans.Commit()
}  
</code></pre>

<p>```<br />
So, As you can see. It supports mighty POCO and handles almost everything. If you have a question, this can be done by Entity Framework too. And even in pretty nicer way. Then here is the answer, <a href="http://www.servicestack.net/benchmarks/">benchmark</a> . Speed, performance, scalability it is the thing which makes the difference.</p>

<p>Now, anyone can write a code. I definitely don’t mind that. But there are few who really write good code. And please I am not saying about following standards of casing but saying about trimming things up, take bold decision and follow rules of <a href="http://martinfowler.com/">Martin Flower</a> .</p>

      <p><a href="/2012/02/arrival-of-david-aka-micro-orm/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/02/going-to-vietnam-because-of-orm/">Going to Vietnam Because of ORM</a> 
        <span>posted on 19 Feb 2012</span>
      </h1> 
      
      <p>In my previous <a href="http://kunjan.in/archives/map-lsquo-your-self-rsquo-using-orm">post</a> I have talk about <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> . But believe if you don’t use thing wisely you are going to fall like anything. In this article I am not going to write any code but still it is a pure technical article. I will talk about enterprise application and how quickly love for <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> will drag you to the black hole.</p>

<p>Around two years back, at the time when .Net 3.5 arrived, I was reading a chapter from a book. It is from <a href="http://oreilly.com/">Oreilly</a> in that author states that your DBA’s job is in danger we have LINQ to SQL a easy way to do the task. And trust me I just like this statement. I am not DB guy, and don’t like much to mess with database. But as I learn more, I understand the importance of Database guys and database. And personally I found person like <a href="http://beyondrelational.com/blogs/chintak/">Chintak Chappia</a> who is not only good with database but also as friend, philosopher and guide. I definitely don’t want to piss him off by my simple LINQ queries which eventually generates complex SQL queries. Don’t trust me here is the <a href="http://datachomp.com/archives/getting-started-with-massive-in-mvc3/">example</a> .</p>

<p>Now, take a hypothetical example very big application. Now, this application has around 1000+ tables and 35+ modules to handle. Ya, very big application it is. And first and foremost mistake done by programmer is to add edmx file for all database. (Here I am taking example of EF only, but this is true for all other ORMs too. )</p>

<p>It may seems lame but it is true. A single file which has all the details of database and relationship. And first effect of this is that file’s designer view will crash. Now, every now and then you have to open XML file and edit it, manually. And single change in database will cause 2 to 3 hours to get effect in that file. And every time you invoke that file in program it will take that much load to compile and run.</p>

<p>There are few work around to this. Use multiple edmx file. May be one file per module. Pros is that you have mighty designer of edmx file and it is light weighted. Cons is database guy have to manage more than one edmx file. But I don’t think that will be a big problem as it saves much of the time.</p>

<p>Other common mistake is using default option. Big <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> s comes with multiple options. Entity Framework and <a href="http://nhforge.org/Default.aspx">NHibernate</a> are two of big and classic ORMs. They have plenty of option to load and save data. Like <a href="http://nhforge.org/Default.aspx">NHibernate</a> has save all type option. This allows you to save data as specific point of time. This will increase performance as you don’t have to go now and then to database.</p>

<p>Ohk, if I am taking care of number of tables per edmx file and also takes care for saving and loading option my life will be saved. Answer is Yes and No.</p>

<p>Yes, if your application is single user oriented application. Like some application like news site. Where few person are adding data and many are reading data. Now, with due course of time data start coming from cache, and it will use caching mechanism of your application. Because of this application runs like charm. In this type of application you can use <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> , this will increase the productivity without hurting you much.</p>

<p>No, now if you are making next <a href="http://www.facebook.com/">Facebook</a> or my favorite site <a href="http://stackoverflow.com/">Stackoverflow</a> . Where there are tons who are reading data and tons who are adding data. There you will face problem with <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> .</p>

<p>Why???</p>

<p>Answer lies just front of you. Computer is basically a duffer machine. It do what exactly you tell it to do. It don’t know where and when it should change the behavior. Now, any <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> generate SQL query based on some logic. And trust me this queries are weird like anything. If you add few joins to entity, it will add few more joins to query and that makes query more complex not only to debug but also for database server to process. And this will effect performance of database server as well as your application.</p>

<p>And the best thing is whatever time you have saved by using ORM, you will have to give more than double of time to just fine tuning it and also to find while you queries burning the database sever. If you have a dedicated database engineer than he definitely going to kill for burning its server.</p>

<p>So, I can say this is like nuclear missile which everyone should use it wisely. One mistake CAN make big hole in your application. I am fan of <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> as a concept and as tool I like to use. But, I am so rigid when it comes to performance of application or code developed by me. I don’t like to compromise with performance and scalability of my code and may be that’s why most of the time <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> stays in some of the demo application I developed just to experiment other things other than <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> and my resume. I know Entity Framework, <a href="http://nhforge.org/Default.aspx">NHibernate</a> , a little bit of <a href="http://subsonicproject.com/">Sub Sonic</a> and few others but I don’t like to use it.</p>

<blockquote>
  <p>I CAN but I avoid!!!</p>
</blockquote>

      <p><a href="/2012/02/going-to-vietnam-because-of-orm/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/02/map-your-self-using-orm/">Map your self using ORM</a> 
        <span>posted on 14 Feb 2012</span>
      </h1> 
      
      <p>Many of you must know this word, “ORM”. Then why this post. But trust, even after we have a lots and lots of ORMs in market and some company still using age old technology. Just few days back in one company again I had to face same old question about connection class and command class. Why?????????? It is so true that one must know that things, but this question is always be a nightmare to me.</p>

<p>When I have a java advanced as a subject, I use to do all things other than JDBC connection. I had never completed a single database connection using JDBC. And may be that is the reason why I haven’t choose career with Java. I am not Ninja anymore. It is my unfulfilled dream!!!</p>

<p>Let’s come back to .net. We used to have connection and command class rule the arena in .net. Every interview starts with that and blast because of that. Question starts with</p>

<blockquote>
  <p>What is connection class? And what are the uses of it?</p>
  
  <p>What is command class?</p>
  
  <p>Difference between data set and data reader?</p>
</blockquote>

<p>Some, time I do wonder I was going to be selected for making application or “<strong>connection to</strong>” database class. And then we had few more option to connect to database. Few other question which are still unanswered, like</p>

<blockquote>
  <p>Where I should put connection string? In web config or in single class?</p>
  
  <p>How much time I should allow to connection be open?</p>
  
  <p>How can I use connection pulling?</p>
</blockquote>

<p>I still don’t know answer of last question. And problem not ends there. We need to implement <a href="http://en.wikipedia.org/wiki/Software_design_pattern">design pattern</a> , had to implement interface to follow <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> . And what actually happened that we became DRY to do all this stuff. At least I do become DRY, pushing my self more for technical stuff rather then concentrating on giving output. Microsoft try to help us by pushing library like <a href="http://msdn.microsoft.com/en-us/library/ff649538.aspx">DAAB</a> . But still open source community is far ahead of this. Java had <a href="http://en.wikipedia.org/wiki/Hibernate_%28Java%29">Hibernate</a> And also then comes hibernate port of .net <a href="http://en.wikipedia.org/wiki/NHibernate">nHibernate</a> . And then Microsoft comes with <a href="http://en.wikipedia.org/wiki/LINQ_to_SQL#LINQ_to_SQL_.28formerly_called_DLINQ.29">Linq to SQL</a> .</p>

<p>All these are <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> s. Full form of ORM is object relational mapping. What it does that it mapped the database table with equivalent object. This make CRUD operation easy like anything. And internally it takes care of every thing starting from connection life cycle to generating equivalent query for that.</p>

<p>So, now I don’t worry about connection and commands but work more on business logic. Yes, of course I am saving name <a href="http://en.wikipedia.org/wiki/Entity_Framework">Entity Framework</a> for my example of ORM. It is final blow from Microsoft. And to do <a href="http://en.wikipedia.org/wiki/Rapid_application_development">RAD</a> type development it is best product till now from Microsoft, even better than <a href="http://www.asp.net/web-forms">web forms</a> .</p>

<p>Now, the example. I am using age old North-wind database. Also using <a href="http://en.wikipedia.org/wiki/SQL_CE">SQL CE</a> . Now, what you need to do is add new file and chose data option, find Entity file and add it. Choose northwind file and “next next next”. Just don’t forget to choose all database. That’s it its done.</p>

<p>I am so lazy person by default. So, I am using <a href="http://nuget.org/packages/MvcScaffolding">MVCScaffolding</a> to generate classes. You can do as your wish.</p>

<p>So, what I have done here is add Entity Framework file (dbml) file. Which is xml file which shows mapping between database and object. Than fired a scaffold command. That it. After this I got the error.</p>

<p>Basically Scaffold command is designed for EF Code First by default and I haven’t customized for simple Entity Framework. So, I do have to modified some of the code and that is it. It is done and working perfectly. Here is the code snippet with details.</p>

<p>I have taken customer table for example.</p>

<p>Created <a href="http://en.wikipedia.org/wiki/Interface">interface</a> for basic <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations.</p>

<pre><code>public interface ICustomerRepository { 
IQueryableCustomer All { get ; } 
IQueryableCustomer AllIncluding( params ExpressionFuncCustomer , object[] includeProperties); 
Customer Find( string id); 
void InsertOrUpdate( Customer customer); 
void Delete( string id); 
void Save(); 
</code></pre>

<p>} </p>

<p>and then create the repository class to do the task.</p>

<pre><code>public class CustomerRepository : ICustomerRepository { 
NorthwindEntities context = new NorthwindEntities (); 
public IQueryableCustomer All { get { return context.Customers; } } 
public IQueryableCustomer AllIncluding( params ExpressionFuncCustomer , object [] includeProperties) 
  { 
    IQueryableCustomer query = context.Customers; 
    foreach ( var includeProperty in includeProperties) 
      { query = query.Include(includeProperty); } 
    return query; 
  } 
public Customer Find( string id) { 
  return context.Customers.Where(c =&gt; c.Customer_ID == id).FirstOrDefault(); 
} 
public void InsertOrUpdate( Customer customer) { 
  var _customer = Find(customer.Customer_ID); 
  if (_customer != null ) { 
    _customer.Address = customer.Address; 
    _customer.City = customer.City;   
    _customer.Company_Name = customer.Company_Name; 
    _customer.Contact_Name = customer.Contact_Name; 
    _customer.Contact_Title = customer.Contact_Title; 
    _customer.Country = customer.Contact_Title; 
    _customer.Fax = customer.Fax; 
    _customer.Phone = customer.Phone; 
    _customer.Postal_Code = customer.Postal_Code; 
    _customer.Region = customer.Region; 
    // Haven't taken orders in update just for demo purpose only 
  } else { 
    context.Customers.AddObject(customer); 
  } 
} 
public void Delete( string id) { 
  var customer = Find(id); 
  context.Customers.DeleteObject(customer); 
} 
public void Save() { 
  context.SaveChanges(); 
} 
</code></pre>

<p>} 
we add one line to application start to solve dependency. kernel.Bind</p>

<pre><code>ICustomerRepository().ToCustomerRepository(); 
</code></pre>

<p>Now, we have basic methods in our customer’s controller to do all the basic operations.</p>

<pre><code>public class CustomersController : Controller { 
private readonly ICustomerRepository customerRepository; 
public CustomersController( ICustomerRepository customerRepository) { 
  this .customerRepository = customerRepository; 
} 

// GET: Customers 
public ViewResult Index() { 
  return View(customerRepository.AllIncluding(customer.Orders)); 
} 

// GET: /Customers/Details/5 
public ViewResult Details( string id) { 
  return View(customerRepository.Find(id)); } 

// GET: /Customers/Create 
public ActionResult Create() { 
  return View(); 
} 

// POST: /Customers/Create 
[ HttpPost ] 
public ActionResult Create( Customer customer) { 
  if (ModelState.IsValid) { 
    customerRepository.InsertOrUpdate(customer); customerRepository.Save(); 
    return RedirectToAction( "Index" ); 
    } else { 
      return View(); 
    } 
  } 

  // GET: /Customers/Edit/5 
public ActionResult Edit( string id) { 
  return View(customerRepository.Find(id)); 
} 

// POST: /Customers/Edit/5 
[ HttpPost ] 
public ActionResult Edit( Customer customer) { 
  if (ModelState.IsValid) { 
    customerRepository.InsertOrUpdate(customer); customerRepository.Save(); 
    return RedirectToAction( "Index" ); 
  } else { 
    return View(); 
  } 
} 

// GET: /Customers/Delete/5 
public ActionResult Delete( string id) { 
  return View(customerRepository.Find(id)); } 

// POST: /Customers/Delete/5  
[HttpPost ActionName ( "Delete" )] 
public ActionResult DeleteConfirmed( string id){ 
  customerRepository.Delete(id); 
  customerRepository.Save(); 
  return RedirectToAction( "Index" ); 
} 
</code></pre>

<p>} </p>

<p>now, just you need views according to Action Results.</p>

<p>I have shared project on <a href="https://github.com/">Github</a> at <a href="https://github.com/kunjee17/kunjan-web-space">my repository</a> . So, do check out for any missing code. You can check out for Demo Application there.</p>

<p>See, no connection, no command just a clean beautiful code and work is done. Entity Framework will take care about every thing else.</p>

<p>We can use any other <a href="http://en.wikipedia.org/wiki/Object-Relational_Mapping">ORM</a> s too. One of my favorite <a href="http://orchardproject.net/">Orchard</a> is using <a href="http://nhforge.org/Default.aspx">NHibernate</a> . It is far mature than any other ORM in .Net. And lots and lots of features to work on. I will work on it in my next articles.</p>

<p>One more thing to add. It takes more time to copy paste the code than creating it. So, you can imagine how fast it is!!!</p>

      <p><a href="/2012/02/map-your-self-using-orm/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/02/nuget-mall-of-oss/">Nuget mall of OSS</a> 
        <span>posted on 13 Feb 2012</span>
      </h1> 
      
      <p>OSS, stands for Open Source Software. If you are a .net developer, most of the time you don’t care much of OSS. But trust me, OSS are far better than pure solution provided by MS.</p>

<p>And now MS is pushing for OSS, via <a href="http://nuget.org">nuget</a> . It’s a wonderful site providing base for OSS technologies. If you have experienced development in Ruby, you must have known this. Ruby has gems, which pushed by open source community. And now .net developer has <a href="http://nuget.org">nuget</a> .</p>

<p>Its so difficult to follow day to day open source work. Trust I don’t know much more than JQuery. But now I am just a click away of whole new world of Open Source Framework and Technology.</p>

<p>It also has few more benefits like updating packages, power shell command prompt etc. It just speed up the development like anything. Now, I know about knowckoutJs, Ninject, MEF, JQGrid and few others just because of <a href="http://nuget.org">nuget</a> .</p>

<p>So, specially in this article I haven’t provide any other link then <a href="http://nuget.org">nuget</a> . So, no more hazels to go to source code provider site download and update just fire few commands and its done. That’s it.</p>

      <p><a href="/2012/02/nuget-mall-of-oss/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/01/bhagwad-gita-chapter1/">Bhagwad Gita Chapter 1</a> 
        <span>posted on 06 Jan 2012</span>
      </h1> 
      
      <p>कुर्क्षेत्र की युद्ध भूमि पर सैन्य निरिक्षण </p>

<p>Its all started when war of Mahabharata is about to begin. Both army stand against each other. And at the time of war, <a href="http://en.wikipedia.org/wiki/Arjuna">Arjuna</a> told <a href="http://en.wikipedia.org/wiki/Krishna">Krishna</a> to take his chariot to the middle of battle field. When they reach there, <a href="http://en.wikipedia.org/wiki/Arjuna">Arjuna</a> observed both side of army.</p>

<p>At this time he found only relatives on the both side. And he just collapsed. He don’t want to fight. He don’t want to win at the cost of killing his own relatives. He asked <a href="http://en.wikipedia.org/wiki/Krishna">Krishna</a> </p>

<blockquote>
  <p>What is significant of this type of win? Why should I win? Why should I do the war?</p>
</blockquote>

<p>At that time Krishna recite Gita. Other than <a href="http://en.wikipedia.org/wiki/Arjuna">Arjuna</a> there are few others who heard Gita, one is <a href="http://en.wikipedia.org/wiki/Hanuman">Hanuman</a> who is there in the flag of <a href="http://en.wikipedia.org/wiki/Arjuna">Arjuna’s</a> chariot. And other is <a href="http://en.wikipedia.org/wiki/Sanjaya">Sanjay</a> who has “divya drashti”.</p>

<p>So, here by I try to explain every “slok” of Gita.</p>

<p>I pray to <a href="http://en.wikipedia.org/wiki/Ganesha">Shree Ganesh</a> as there is a tradition that every good thing start with the name of <a href="http://en.wikipedia.org/wiki/Ganesha">Shree Ganesh</a> .</p>

      <p><a href="/2012/01/bhagwad-gita-chapter1/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2012/01/bhagwad-gita-introduction/">Bhagwad Gita Introduction</a> 
        <span>posted on 06 Jan 2012</span>
      </h1> 
      
      <p>Who ever know something about Indian culture must have know about Gita. As per religion or history whatever you prefer, it is a compilation of words, a message given to Arjuna by Krishna. It is not only for him but for whole world. And trust me this book do have answer of almost any things.</p>

<p>First I brief about this compilation. At the time of Mahabharata war, when Arjuna has to face his own family at war place, kurukshetra. He did not want to fight, he did not want to win at a price of killing his own loved once. At that time Shree Krishna, told him that it is his work, he is not responsible of it. He had to do what is necessary. He didn’t have any right to claim on result of his work. And then whatever communication is done between them is called Bhagwad Gita. Other than Arjuna there were few other who witnesses this communication, one is Ved Vyas who written Mahabharat, one is Sajay a Charioteer of King Dhitrashtra and Hanuman who was there in the flag of Chariot of Arjuna.</p>

<p>I am not a big philosopher or spiritual guru, but I love this book. And trying to explain each and every “slok”, sentence in detail. Please bare with me, if there is any mistake in understanding or explaining this .</p>

<p>I don’t say I am a great believer of God, but I am believer of this book. It do has solution of every problem, and do support to over come any obstacle of life. Gita was told by Shree Krishna around 5000 years back and even now every word of it, is so true and real.</p>

<p>There are few, who still believe the Shree Krishna is Myth, for them here I am sharing a video, just have a look at it. And I don’t mind any opinion but whats wrong in trying new things, and a thing which already had more than enough followers.</p>

<p>Video about Krishna is here.</p>

<iframe width="560" height="315" src="//www.youtube.com/embed/dalNJ4luBws" frameborder="0" allowfullscreen></iframe>

      <p><a href="/2012/01/bhagwad-gita-introduction/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2011/12/i-miss-you/">I Miss You</a> 
        <span>posted on 19 Dec 2011</span>
      </h1> 
      
      <p>When sun starts to rise<br />
When sun shine enlightens me<br />
I miss your shining smile<br />
I miss you</p>

<p>Journey of life just restarted<br />
Roads just started to shine<br />
But I miss your hand in my hand<br />
I miss you</p>

<p>With every rhythm of song<br />
With every strum of guitar<br />
I miss your words<br />
I miss you</p>

<p>Started to write poem<br />
But lines just started crying<br />
Words are missing letters<br />
And I miss you</p>

<p>I just want to move on<br />
But heart still waiting for you<br />
My heart missing beats for you<br />
I miss you</p>

<p>Noise of crowd surrounds me<br />
But your silence still hurts me<br />
Break the silence, spark the words<br />
I miss you, I miss your voice</p>

<p>Feeling emptiness in middle of life<br />
Either come and meet me<br />
Or gift me death<br />
I miss you, I miss you so much</p>

<p>My words are not enough for you<br />
<a href="http://kunjan.in/posts/you-never-understand">You still don’t understand</a> a bit<br />
But still I will write for you<br />
Because I miss you… I miss you so much…;</p>

      <p><a href="/2011/12/i-miss-you/">Read more...</a></p>
    </li>
    <li class="fancy-container lightblue">
      <h1>
        <a href="/2011/12/test-your-self-before-test-your-code/">Test your self before test your code</a> 
        <span>posted on 19 Dec 2011</span>
      </h1> 
      
      <p>Few days back I had written a <a href="http://kunjan.in/index.php/technical/14-net--c-c-sharp/12-ddt-oops-tdd-its-test-driven-development">post</a> , on <a href="http://en.wikipedia.org/wiki/Test_Driven_Development">Test Driven Development</a> . And many of my friends raise question, why should I test and is there anything there in built in Visual Studio. And also more explanation on Test Driven Design. So, Here again I will some what more deeper in testing. Ok, its just a little bit deeper.</p>

<p>First thing, as per title, you should test your self before test your code. It is not philosophical but it is pure technical. If I am writing test for my code, I should know why I am writing? How I am going to write? These few question must be answered before writing test. Now, we are normal kind of coders. I can’t say that whatever code I am writing is going to execute perfectly. In a contrary in most of the cases reverse is true. Every damn time I forgot something to consider and that crash my code. If you are like my friend <a href="https://twitter.com/#%21/shahaalap">Aalap</a> then you can go on and on, without writing test. He is damn good with windows technology and write code like anything. And a bit lucky because whenever he writes code, and that piece of shit executes perfectly. But I am not genius like him, so I need to test it.</p>

<p>Again we go with my <a href="http://en.wikipedia.org/wiki/Mathematics_Functions">mathematical functions</a> . Because I just loved <a href="http://en.wikipedia.org/wiki/Mathematics">mathematics</a> . And this time we are using <a href="http://en.wikipedia.org/wiki/Visual_Studio_">Visual Studio</a> Testing facility. You can go with <a href="http://en.wikipedia.org/wiki/Nunit">NUnit</a> , it almost same, just few syntax changed here and there. But it is not a big deal. Start with new console application. Add new class MathUtil to it. And make is <a href="http://en.wikipedia.org/wiki/Static_Class">static class</a> for the simplicity. Now, I am not putting screen shot for “how to use visual studio???”, if you don’t know, this article is not for you better you go and study some basics before jump to this. Sorry…</p>

<p>Again we have static function to add something. Let’s start with <a href="http://en.wikipedia.org/wiki/Integer">integer</a> . So, here is a add method for adding integer.</p>

<pre><code>public static class MathUtil { 
public static dynamic AddData( int a, int b) { 
  return a + b; 
} 
</code></pre>

<p>} </p>

<p>damn sweet. A simple method to add two integer. Now, time for testing. Add another project to solution, that project will be test project. You will find test project if you are running visual studio pro or greater. After adding project, we just have to remember <a href="http://en.wikipedia.org/wiki/Paul_Allen">Paul Allen</a> and click right mouse button in Add data method. Then just click create unit test and mighty visual studio create test for us. Here, we get code like this</p>

<pre><code>  ///A test for AddData /// 
</code></pre>

<p>[TestMethod()] 
  public void AddDataTest() { 
    int a = 0; // TODO: Initialize to an appropriate value 
    int b = 0; // TODO: Initialize to an appropriate value 
    object expected = null ; // TODO: Initialize to an appropriate value 
    object actual; 
    actual = MathUtil.AddData(a, b); 
    Assert.AreEqual(expected, actual); 
    Assert.Inconclusive( "Verify the correctness of this test method." ); 
  } 
Now, we need modify to run the test. And code will look something like this
  [TestMethod()] 
  public void AddDataTest() { 
    int a = 10; // TODO: Initialize to an appropriate value 
    int b = 10; // TODO: Initialize to an appropriate value 
    object expected = 20; // TODO: Initialize to an appropriate value 
    object actual; 
    actual = MathUtil.AddData(a, b); 
    Assert.AreEqual(expected, actual); 
  } </p>

<p>This test works perfectly. Ya, we do have written a correct function. Now, client come and tell that he need the same for float. Why not??? We have <a href="http://en.wikipedia.org/wiki/Overriding">overriding</a> thing in software Engineering.We will use it. And Ta da… We have another function like this </p>

<pre><code>public static dynamic AddData( float a, float b) { 
  return a + b; 
</code></pre>

<p>} </p>

<p>This will work for float. Same thing we will do for testing now. Right click and create unit test. We have our method here like this. </p>

<pre><code>[TestMethod()] 
public void AddDataTest1() { 
float a = 0F; // TODO: Initialize to an appropriate value 
float b = 0F; // TODO: Initialize to an appropriate value 
object expected = null ; // TODO: Initialize to an appropriate value object actual; 
actual = MathUtil.AddData(a, b); 
Assert.AreEqual(expected, actual); 
Assert.Inconclusive( "Verify the correctness of this test method." ); } 
</code></pre>

<p>If you have noticed, this is not overriding in test. It just add “1” after test name. Who cares, test project is not going to client side. Ya, true. But I may not be the only one who is working on the project. There are many who are working and using my methods, testing them. This name will confuse them. So what I should do, Add definition to name it self. Then method looks like </p>

<pre><code>[TestMethod()] 
public void AddDataTest_Float() { 
float a = 10F; // TODO: Initialize to an appropriate value 
float b = 10F; // TODO: Initialize to an appropriate value 
object expected = 20; // TODO: Initialize to an appropriate value 
object actual; 
actual = MathUtil.AddData(a, b); 
Assert.AreEqual(expected, actual); 
</code></pre>

<p>} </p>

<p>Ok, this test is for float data. We will change previous method integer data. And once again client comes for double. How can I say no??? He is my client. No, problem sir we go for double too. Here is the method I write, I made some what generic method so I don’t have write again and again.</p>

<pre><code>public static dynamic AddData( object [] data) { 
dynamic result = data[0]; for ( int i = 1; i return result; 
</code></pre>

<p>} </p>

<p>now this will add almost anything. And also any amount of data . Now, create test for it. Test method some what looks like this. </p>

<pre><code>[TestMethod()] 
public void AddDataTest_ObjectArray() { object [] data = new object [] { 10, 10, 10 }; // TODO: Initialize to an appropriate value 
object expected = 30; // TODO: Initialize to an appropriate value 
object actual; 
actual = MathUtil.AddData(data); 
Assert.AreEqual(expected, actual); 
</code></pre>

<p>} </p>

<p>Here, I just like to say that, you just don’t start testing because someone says so. Or just you love me so much that can’t ignore my request to make application in way it should be made. Just know where you need testing, and also for testing you should know what you want to test. There are may methods available to check null, inequality, exception. Use appropriate method for that. There are many books available just to explain how to test.</p>

<p>Book I recently come across <a href="http://artofunittesting.com/">The Art of Unit Testing</a> . It’s a wonderful book explaining every minor details for testing. Just don’t waste your time and energy on clicking buttons in your own application. It is a work of testing department. But unit testing comes in our part, it is a job of coder to test his functionality before adding to system. Do the unit test and become confident about your work. There is no need to add unnecessary bugs in bug tracker.</p>

<p>Please let me know if any further explanation is needed.</p>

      <p><a href="/2011/12/test-your-self-before-test-your-code/">Read more...</a></p>
    </li>
  </ul> 

  <!-- Pagination links -->
  <div id="post-pagination" class="pagination">

   
      <p class="previous">
        <a href="/page2">Previous Page</a>
        </p>


    <p class="previous">
      <a href="/page4">Next Page</a>
    </p>

  </div>


                </div>
                <!-- #content -->
            </div>
            <!-- #primary .site-content -->

            <div id="secondary" class="widget-area fancy-container lightred" role="complementary">
                <aside id="text-5" class="widget widget_text">
                    <h1 class="widget-title">Follow</h1>
                    <div class="textwidget logos">
                        <a href="https://twitter.com/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="/stylesheets/images/twitter.png"></a>
                        <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://stackoverflow.com']);"><img src="/stylesheets/images/stackoverflow.png"></a>
                        <a href="http://www.linkedin.com/in/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linkedin.com']);"><img src="/stylesheets/images/linkedin.png"></a>
                        <a href="https://github.com/kunjee17" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="/stylesheets/images/github.png"></a>
                    
                    </div>
                    <a href="http://stackoverflow.com/users/859490/kunjee" target="_blank">
                      <img src="http://stackoverflow.com/users/flair/859490.png" width="208" height="58" alt="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for Kunjan at Stack Overflow, Q&amp;A for professional and enthusiast programmers">
                    </a>
                    
                </aside>
                
                <aside id="linkcat-6" class="widget widget_links">
                    <h1 class="widget-title">Other Blogs</h1>
                    <ul class='xoxo blogroll'>
                        <li><a href="http://www.hanselman.com/blog/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.hanselman.com/blog/']);">Scott Hanselman</a></li>
                        <li><a href="http://www.wekeroad.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://www.wekeroad.com/']);">Rob Conery</a></li>
                        <li><a href="http://haacked.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://haacked.com/']);">Phil Haack</a></li>
                        <li><a href="http://hanselminutes.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://hanselminutes.com/']);">Hanselminutes</a></li>
                        <li><a href="https://sergeytihon.wordpress.com/category/f-weekly/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','https://sergeytihon.wordpress.com/category/f-weekly/']);">F# Weekly</a></li>
                        <li><a href="http://fsharpforfunandprofit.com/" target="_blank" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://fsharpforfunandprofit.com/']);">F# for Fun and Profit</a></li>
                    </ul>
                    
                </aside>
                <aside id="archives-4" class="widget widget_archive">
                    <h1 class="widget-title">Archive</h1>
                    <ul class="posts">
                          <li><a href="/archive#2014February">February, 2014</a></li>
                          <li><a href="/archive#2013December">December, 2013</a></li>
                          <li><a href="/archive#2013November">November, 2013</a></li>
                          <li><a href="/archive#2013October">October, 2013</a></li>
                          <li><a href="/archive#2013August">August, 2013</a></li>
                          <li><a href="/archive#2013January">January, 2013</a></li>
                          <li><a href="/archive#2012December">December, 2012</a></li>
                          <li><a href="/archive#2012November">November, 2012</a></li>
                          <li><a href="/archive#2012October">October, 2012</a></li>
                          <li><a href="/archive#2012September">September, 2012</a></li>
                          <li><a href="/archive#2012April">April, 2012</a></li>
                          <li><a href="/archive#2012March">March, 2012</a></li>
                          <li><a href="/archive#2012February">February, 2012</a></li>
                          <li><a href="/archive#2012January">January, 2012</a></li>
                          <li><a href="/archive#2011December">December, 2011</a></li>
                          <li><a href="/archive#2011November">November, 2011</a></li>
                          <li><a href="/archive#2011October">October, 2011</a></li>
                    </ul>
                </aside>
            </div>
            <!-- #secondary .widget-area -->


        </div>
        <!-- #main -->

        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
            </div>
            <!-- .site-info -->
        </footer>
        <!-- #colophon .site-footer -->
    </div>
    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    
    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-37975068-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>
    
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });


        $(function(){
            $.ajax({
                url: "http://dynamic.xkcd.com/api-0/jsonp/comic?callback=?",
                dataType: "json",
                jsonpCallback: "xkcddata",
                success: function(data) {
                    $("#xkcdcontent").append(
                        $("<h1/>").text(data.title),
                        $("<img/>").attr({
                            src: data.img,
                            title: data.alt,
                            alt: data.title
                        })
                    );
                }
            });
        });
    </script>
</body>
</html>
